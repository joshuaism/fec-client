<div *ngFor="let employer of employers; index as i; trackBy:customTrackBy">
  <label style="min-width: 6em;">Employer <span *ngIf="i > 0">#{{i+1}}</span></label>
  <input type="text" [(ngModel)]="employers[i]">
  <input *ngIf="i == employers.length - 1" type="button" (click)="addEmployer()">
</div>

<div *ngFor="let occupation of occupations; index as i; trackBy:customTrackBy">
  <label style="min-width: 6.5em;">occupation <span *ngIf="i > 0">#{{i+1}}</span></label>
  <input type="text" [(ngModel)]="occupations[i]">
  <input *ngIf="i == occupations.length - 1" type="button" (click)="addOccupation()">
</div>
<input type="submit" (click)="submit()">
<p *ngIf="loading">loading...</p>
<p *ngIf="!loading && data && data.length <= 0">No results</p>
<div [class]="getParty(partyMapEntity.key)" *ngFor="let partyMapEntity of partyMap | keyvalue">
  <p>Party: {{partyMapEntity.key}}</p>
  <div *ngFor="let committeeMapEntity of partyMap.get(partyMapEntity.key) | keyvalue">
    <p>Committee: {{committeeMapEntity.key}}&nbsp;&nbsp;
      <a title="FEC Committee Page" href="https://www.fec.gov/data/committee/{{getCommitteeId(committeeMapEntity.key)}}/"><img class="icon" src="../assets/icons/fec.png"></a>&nbsp;&nbsp;
      <a title="Open Secrets Committee Page" href="https://www.opensecrets.org/pacs/lookup2.php?strID={{getCommitteeId(committeeMapEntity.key)}}"><img class="icon" src="../assets/icons/opensecrets.ico"></a>&nbsp;&nbsp;
    </p>
    <app-contribution-table [contributions]="getContributions(partyMapEntity.key, committeeMapEntity.key)"></app-contribution-table>
  </div>
</div>
